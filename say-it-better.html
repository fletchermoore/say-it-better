<head>
  <title>say-it-better</title>
</head>

<body>
  <div id="left-column">

    <h1>Say-it-better</h1>
    <div>{{> loginButtons }}</div>
    
    {{#if currentUser }}
    <h2>Add Text</h2>

    <form id="add-text-form">
      <div>
        <textarea name="addTextarea" placeholder="copy paste some spanish here"></textarea>
      </div>
      <div>
        <input type="submit" name="submit-text" value="Add" />
      </div>
    </form>

    {{#if isPage 'text-entry' }}
      {{>textEntryView}}
    {{else}}
      {{>textListView}}
    {{/if}}

    
    <h2>Dictionary</h2>
    <div>
      <textarea id="dictTextarea">{{dict}}</textarea>
    </div>
    
    {{/if}}

  </div>
  
 {{#if currentUser}} 
  <div id="save-word-form-container">
    <form id="save-word-form">
      <div><textarea name="frontTextarea" id="frontTextarea"></textarea></div>
      
      <div><textarea name="backTextarea" id="backTextarea"></textarea></div>
      
      <div><input type="submit" name="Add Card" id="dictSubmitButton" value="Add/Update"></div>
      
    </form>
    
  </div>

  <iframe id="dictionary" name="dictionary"></iframe>
  {{/if}}
</body>


<template name="textEntryView">
  <div class="margined">
    &lt;&lt; <a href="#" id="backToTextListLink">Text List</a>
  </div>
  {{#with textEntry}}
    <div class="textTitle">{{textTitle}}</div>
    <div>{{{text}}}</div>
  {{/with}}
</template>


<template name="textListView">
    <h2>Texts</h2>
    <div>
      <button type="button" id="emptyButton">Empty</button>
    </div>
    
    
    {{#each texts}} 
      <div class="textTitleContainer">
        <a href="#" data-title-id="{{ id }}" class="textTitleLink">{{ title }}</a>
      </div>
    {{/each}}
</template>